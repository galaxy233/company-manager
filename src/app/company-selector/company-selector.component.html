<div class="container">
  <div class="company-selector">
    <app-company-selector-options
      (onUserSearch)="search($event)"
      (onNewCompany)="companyChange($event)">
    </app-company-selector-options>
    <div *ngIf="filteredCompanies && filteredCompanies.length; else noResultsTemplate">
      <div class="company-selector-items">
        <div *ngFor="let company of filteredCompanies">
          <app-company-selector-item
            (onSelectCompany)="companyChange($event)"
            [selected]="selectedCompany ? selectedCompany.CompanyID === company.CompanyID : false"
            [company]="company">
          </app-company-selector-item>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #noResultsTemplate>
  <div class="company-selector-no-results">
    <p *ngIf="query">No results found</p>
    <p *ngIf="!query">Loading</p>
  </div>
</ng-template>
